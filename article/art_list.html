<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>文章列表diy</title>
    <link href="../assets/lib/bootstrap.css" rel="stylesheet">
    <link href="../assets/lib/layui/css/layui.css" rel="stylesheet">
    <link href="../assets/css/article/art_list.css" rel="stylesheet">
</head>
<body>
<!--1：卡片区域-->
<div class="layui-card">
    <div class="layui-card-header">文章列表</div>
    <div class="layui-card-body">

        <!--2：筛选区域-->
        <form action="" class="layui-form" id="form-search">
            <!--MP:(layui-inline)实现将div放置到一行显示。-->
            <div class="layui-form-item  layui-inline">
                <select name="cate_id">
                    <!--MP:下拉框中name=cate_id对应是option中的值。-->
                </select>

            </div>
            <div class="layui-form-item   layui-inline">
                <select name="state">
                    <option value="">所有的状态</option>
                    <option value="已发布">已发布</option>
                    <option value="草稿">草稿</option>
                </select>
            </div>
            <div class="layui-form-item  layui-inline">
                <button class="layui-btn" lay-filter="formDemo" lay-submit>筛选</button>
            </div>

        </form>

        <!--3：列表区域-->
        <table class="layui-table">
            <colgroup>
                <col>
                <col width="150">
                <col width="180">
                <col width="150">
                <col width="150">
            </colgroup>
            <thead>
            <tr>
                <th>文章标题</th>
                <th>分类</th>
                <th>发表时间</th>
                <th>状态</th>
                <th>操作</th>
            </tr>
            </thead>
            <!--需要渲染的文章数据的地方-->
            <tbody>
            </tbody>
        </table>


        <!--4：分页区域-->
        <div id="pageBox"></div>
    </div>
</div>

<!--3-1:文章列表数据显示的模板-->
<script id="tpl-table" type="text/html">
    {{each data}}
    <tr>
        <td>{{$value.title}}</td>
        <td>{{$value.cate_name}}</td>
        <td>{{$value.pub_date|dataFormat}}</td>
        <td>{{$value.state}}</td>
        <td>
            <button type="button" class="layui-btn   layui-btn-xs">编辑</button>
            <button type="button" class="layui-btn  btn-delete layui-border-orange layui-btn-xs"
                    data-id="{{$value.Id}}">删除
            </button>
        </td>
    </tr>
    {{/each}}
</script>

<!--2-1：文章分类的模板-->
<script id="tpl-cate" type="text/html">
    <option value="">所有分类</option>
    {{each data}}
    <option value="{{$value.Id}}">{{$value.name}}</option>
    {{/each}}
</script>

<script src="../assets/lib/layui/layui.all.js"></script>
<script src="../assets/lib/jquery.js"></script>
<script src="../assets/lib/template-web.js"></script>
<script src="../assets/js/baseAPI.js"></script>
<script src="../assets/js/article/art_list.js"></script>
</body>
</html>